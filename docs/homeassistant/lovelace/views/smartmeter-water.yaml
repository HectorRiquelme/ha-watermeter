## ######################################################
##
##   VIEW SMARTMETER WATER
##
## ######################################################

icon: "mdi:water-well-outline"
id: WATERDIEHL
title: Wasser
panel: true
path: water

cards:
  - type: custom:layout-card
    column_num: 1
    max_columns: 1
    column_width: 1920
    max_width: 4500
    layout: horizontal
    cards:

      ## ###############################################
      - type: custom:layout-card
        max_width: 780
        column_num: 1
        max_columns: 1
        layout: horizontal
        cards:
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                name: "❖ Wasserverbrauch"
                template: headline

      ## ##########################################            
      - type: custom:layout-card
        max_width: 720
        column_num: 1
        max_columns: 1
        layout: horizontal
        cards:
          - !include ../cards/smartmeter-water/card-water-overview.yaml
          - !include ../cards/smartmeter-water/card-water-days.yaml
      - break

      - type: custom:layout-card
        max_width: 720
        column_num: 1
        max_columns: 1
        layout: horizontal
        cards:
          - !include ../cards/smartmeter-water/card-water-usage.yaml

      - break

      - type: custom:layout-card
        max_width: 720
        column_num: 1
        max_columns: 1
        layout: horizontal
        cards:
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                name: "Details zu Wasserverbrauch & - Kosten"
                template: title

      - type: custom:layout-card
        max_width: 720
        column_num: 1
        max_columns: 4
        layout: horizontal
        cards:
          - type: "custom:homekit-card"
            useBrightness: false
            titleColor: "#fff"
            enableColumns: false
            statePositionTop: true
            home: false
            style: |
                .card-title {
                  font-size: 1.25em !important;
                  line-height: 3em !important;
                  padding-top: 18px !important;
                }
                .name {
                  font-size: 0.90em !important;
                }
                .state{
                  overflow: hidden !important;
                  text-overflow: ellipsis !important;
                }
            tap_action:
              action: more-info
            entities:
              - title: "Wasserverbrauch"
                entities:
                  - entity: sensor.wasseraktuell_liter
                    name: zur Zeit
                    tap_action:
                      action: more-info
                      entity: sensor.wasseraktuell_liter
                  - entity: sensor.wasser_liter_h
                    name: Jetzt
                    tap_action:
                      action: more-info
                      entity: sensor.wasser_liter_h
                  - entity: sensor.wasser_liter_tag
                    name: Heute
                    tap_action:
                      action: more-info
                      entity: sensor.wasser_liter_tag
                  - entity: sensor.wasser_liter_monat
                    name: Monat
                    tap_action:
                      action: more-info
                      entity: sensor.wasser_liter_monat
                  - entity: sensor.wasser_liter_jahr
                    name: Jahr
                    tap_action:
                      action: more-info
                      entity: sensor.wasser_liter_jahr

              - title: "Wasser Kosten"
                entities:
                  - entity: sensor.water_cost_current
                    name: zur Zeit
                    tap_action:
                      action: more-info
                      entity: sensor.water_cost_current
                  - entity: sensor.water_cost_hour
                    name: Jetzt
                    tap_action:
                      action: more-info
                      entity: sensor.water_cost_hour
                  - entity: sensor.water_cost_day
                    name: Heute
                    tap_action:
                      action: more-info
                      entity: sensor.water_cost_day
                  - entity:  sensor.water_cost_month
                    name: Monat
                    tap_action:
                      action: more-info
                      entity: sensor.water_cost_month
                  - entity: sensor.water_cost_jahr
                    name: Jahr
                    tap_action:
                      action: more-info
                      entity: sensor.water_cost_jahr

              - title: "Wasserzähler Anzeige"
                entities:
                  - entity: sensor.wasserzahler_aktuell
                    name: Gesamt m³
                    tap_action:
                      action: more-info
                      entity: sensor.wasserzahler_aktuell
                  - entity: sensor.wasser_pro_monat
                    name: m³/Monat
                    tap_action:
                      action: more-info
                      entity: sensor.wasser_pro_monat    
                  - entity: sensor.wasser_pro_jahr
                    name: m³/Jahr
                    tap_action:
                      action: more-info
                      entity: sensor.wasser_pro_jahr                  
                  - entity: sensor.wasserzahler_status
                    name: Status
                    tap_action:
                      action: more-info
                      entity: sensor.wasserzahler_status
                  - entity: sensor.wasser_alarm
                    name: Alarm
                    tap_action:
                      action: more-info
                      entity: sensor.wasser_alarm


      ## ###############################################
      - type: custom:html-card
        style: |
          ha-card {
            background-color: transparent;
            box-shadow:none;
            height:30px;
            text-align:right;
            font-size: 0.85em;
           }
        content: |
          <br/>&copy 2020 Peter Siebler   -   Made with <span style="color: #e25555;">&hearts;</span> in Austria, Höchst.
